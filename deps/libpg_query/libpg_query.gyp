# This file is used with the GYP meta build system.
# http://code.google.com/p/gyp/
{
  'target_defaults': {
    'default_configuration': 'Release',
    'configurations': {
      'Release': {
        'cflags': [ '-Wall', '-Wextra', '-O3', '-fPIC' ],
      }
    },
  },

  'targets': [
    {
      'target_name': 'libpg_query',
      'type': 'static_library',
      'include_dirs': [
        '.',
        'src/',
        'src/postgres/',
        'src/postgres/include/',
        'src/postgres/include/access',
        'src/postgres/include/bootstrap',
        'src/postgres/include/catalog',
        'src/postgres/include/commands',
        'src/postgres/include/common',
        'src/postgres/include/executor',
        'src/postgres/include/lib',
        'src/postgres/include/libpg',
        'src/postgres/include/mb',
        'src/postgres/include/nodes',
        'src/postgres/include/optimizer',
        'src/postgres/include/parser',
        'src/postgres/include/port',
        'src/postgres/include/portabilitiy',
        'src/postgres/include/postmaster',
        'src/postgres/include/regex',
        'src/postgres/include/replication',
        'src/postgres/include/rewrite',
        'src/postgres/include/storage',
        'src/postgres/include/tcop',
        'src/postgres/include/tsearch',
        'src/postgres/include/utils',
      ],
      'direct_dependent_settings': {
         'include_dirs': [ '.' ],
       },
      'sources': [
        'src/pg_query.c',
        'src/pg_query_scan.c',
        'src/pg_query_json.c',
        'src/pg_query_fingerprint.c',
        'src/pg_query_normalize.c',
        'src/pg_query_json_plpgsql.c',
        'src/pg_query_parse.c',
        'src/pg_query_parse_plpgsql.c',
        'src/postgres/src_backend_parser_gram.c',
        'src/postgres/src_backend_postmaster_postmaster.c',
        'src/postgres/src_pl_plpgsql_src_pl_scanner.c',
        'src/postgres/src_backend_storage_ipc_ipc.c',
        'src/postgres/src_backend_utils_mb_encnames.c',
        'src/postgres/src_backend_nodes_list.c',
        'src/postgres/src_backend_storage_lmgr_s_lock.c',
        'src/postgres/src_backend_libpq_pqcomm.c',
        'src/postgres/src_backend_catalog_pg_proc.c',
        'src/postgres/src_port_erand48.c',
        'src/postgres/src_backend_utils_adt_ruleutils.c',
        'src/postgres/src_backend_utils_mmgr_aset.c',
        'src/postgres/src_backend_utils_adt_expandeddatum.c',
        'src/postgres/src_backend_parser_scan.c',
        'src/postgres/src_backend_lib_stringinfo.c',
        'src/postgres/contrib_pgcrypto_sha1.c',
        'src/postgres/src_backend_catalog_namespace.c',
        'src/postgres/src_backend_nodes_equalfuncs.c',
        'src/postgres/src_backend_parser_parse_expr.c',
        'src/postgres/src_backend_nodes_nodeFuncs.c',
        'src/postgres/src_backend_nodes_bitmapset.c',
        'src/postgres/src_backend_parser_parser.c',
        'src/postgres/src_backend_utils_hash_dynahash.c',
        'src/postgres/src_backend_tcop_postgres.c',
        'src/postgres/src_backend_nodes_copyfuncs.c',
        'src/postgres/src_backend_utils_init_globals.c',
        'src/postgres/src_port_random.c',
        'src/postgres/src_pl_plpgsql_src_pl_funcs.c',
        'src/postgres/src_backend_utils_error_assert.c',
        'src/postgres/src_backend_utils_misc_guc.c',
        'src/postgres/src_pl_plpgsql_src_pl_gram.c',
        'src/postgres/src_pl_plpgsql_src_pl_handler.c',
        'src/postgres/src_backend_utils_adt_format_type.c',
        'src/postgres/src_backend_utils_mb_mbutils.c',
        'src/postgres/src_backend_utils_error_elog.c',
        'src/postgres/src_backend_utils_adt_datum.c',
        'src/postgres/src_backend_nodes_value.c',
        'src/postgres/src_backend_parser_scansup.c',
        'src/postgres/src_common_psprintf.c',
        'src/postgres/src_backend_nodes_makefuncs.c',
        'src/postgres/src_pl_plpgsql_src_pl_comp.c',
        'src/postgres/src_port_qsort.c',
        'src/postgres/src_backend_nodes_extensible.c',
        'src/postgres/src_backend_utils_mmgr_mcxt.c',
        'src/postgres/src_backend_utils_mb_wchar.c',
        'src/postgres/src_port_pgsleep.c',
        'src/postgres/src_common_keywords.c',
        'protobuf-c/protobuf-c.c',
        'protobuf/scan_output.pb-c.c'
      ]
    }
  ]
}
